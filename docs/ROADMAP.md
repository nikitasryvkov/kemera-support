# Дорожная карта

## UX для пользователей

- [ ] Расширенный FAQ:
  - Категории/подкатегории.
  - Поиск по ключевым словам.
  - Поддержка медиагрупп (несколько вложений).
- [ ] Сбор контекста перед обращением (шаблонные вопросы).
- [ ] Регистрация админов в боте и назначение ответственного оператора на каждое обращение (ответственным становится первый оператор, ответивший после нового обращения; сбрасывается при каждом новом обращении пользователя после `/resolve`).
- [ ] Оценка ответа и сбор обратной связи после закрытия тикета (с привязкой к назначенному ответственному оператору).

## Инструменты операторов

- [x] Инлайн-панель в групповой теме (кнопки `Ответить`, `Отложить`, `Сменить статус`, `Инфо` для вывода карточки пользователя).
- [ ] Просмотр очереди «ожидают ответа» с сортировкой по времени.
- [ ] Персональные уведомления операторам о «старых» тикетах.
- [ ] Статистика по ответам/скорости (ежедневный дайджест).

## Автоматизация и интеллект

- [ ] Тегирование сообщений (keywords) и подсказки готовых ответов.
- [ ] Механизм шаблонов и макросов (настраиваемые фразы и последовательности действий, например «проверить FAQ → отправить инструкцию → сменить статус» одним нажатием).
- [ ] Интеграция с внешними системами (CRM/Notion/Google Sheets).
- [ ] Автонапоминания пользователям, если они не ответили на уточнение.
- [ ] Инструменты для ответственных операторов (уведомления, смена ответственного, напоминания).

## Надёжность и DevOps

- [ ] `/healthz` и Prometheus метрики (количество тикетов, среднее время ответа).
- [ ] Расширенные бэкапы (S3/Google Drive, расписание).
- [ ] Тестирование Redis-фейлов и автоматический реконнект.

## Локализация и тексты

- [ ] Добавить дополнительные языки (например, ua/de).
- [ ] Локализовать admin-интерфейсы + автоматический выбор языка по пользователю.

## Качество кода

- [ ] Добавить линтер (ruff/flake8) и автоформат (black) + pre-commit.
- [ ] Интеграционные тесты на FSM/faq/admin сценарии.
- [ ] Настроить CI (GitHub Actions) для тестов и статического анализа.

## Логи и наблюдаемость

- [ ] Структурированный формат логов (JSON с ключами user_id, thread_id).
- [ ] Отдельный логгер для антиспама (`support_bot.security` -> отдельный файл).
- [ ] Корреляция событий старта/остановки (trace-id в логах).

> Пункты отмечены как `[ ]` — это backlog; по мере выполнения отмечайте `[x]` и фиксируйте детали реализации в PR/issue.
